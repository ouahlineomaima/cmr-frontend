<div class="container-resultat">
    <section class="header">
        <img (click)="goToAccueilPage()" class="logo" src="https://i.ibb.co/F5YWMQD/Wassini-logo-without-bg.png"
            alt="Wassini-logo-without-bg">
    </section>
    <app-timeline [classNames]="classNamesForTimeline"></app-timeline>
    <div class="main-container">

        <h4 class="qst">Le défunt avait-il des enfants en charge?</h4>
        <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
            <mat-chip-option *ngFor="let chip of availableBooleans"
                [color]="selectedBooleanHasChildren=== chip.name ? chip.color : null"
                (click)="onChipClickHasChildren(chip.name); updateButtonState();">
                {{chip.name}}
            </mat-chip-option>
        </mat-chip-listbox>

        <div *ngIf="sharedVariablesService.hasChildren === false" class="condition">
            <h4 class="qst">Le défunt était-il marié pour une durée de plus de 2 ans?</h4>
            <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
                <mat-chip-option *ngFor="let chip of availableBooleans"
                    [color]="selectedIsValidMarriagePeriod=== chip.name ? chip.color : null"
                    (click)="onChipClickMarriagePeriod(chip.name); updateButtonState();">
                    {{chip.name}}
                </mat-chip-option>
            </mat-chip-listbox>
        </div>
        <div *ngIf="sharedVariablesService.hasChildren === true" class="condition">
            <h4 class="qst">Veuillez saisir les informations relatives aux enfants du défunt:</h4>
            <div *ngFor="let item of childrenArray">
                <app-enfant [order]="item + 1"></app-enfant>
            </div>
            <button mat-fab extended class="add_child" (click)="declare()">
                <mat-icon>plus_one</mat-icon>
                Déclarer un autre enfant
            </button>
        </div>

        <div *ngIf="sharedVariablesService.userRelationship === 'veuve'" class="condition">
            <h4 class="qst">Êtes-vous divorcées, remariées ou répudiée?</h4>
            <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
                <mat-chip-option *ngFor="let chip of availableBooleans"
                    [color]="selectedIsStillPartner=== chip.name ? chip.color : null"
                    (click)="onChipClickStillPartner(chip.name); updateButtonState();">
                    {{chip.name}}
                </mat-chip-option>
            </mat-chip-listbox>

        </div>
        <div *ngIf="sharedVariablesService.userRelationship === 'veuf'" class="condition">
            <h4 class="qst">Êtes-vous divorcés, remariés?</h4>
            <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
                <mat-chip-option *ngFor="let chip of availableBooleans"
                    [color]="selectedIsStillPartner=== chip.name ? chip.color : null"
                    (click)="onChipClickStillPartner(chip.name); updateButtonState();">
                    {{chip.name}}
                </mat-chip-option>
            </mat-chip-listbox>

            <div *ngIf="sharedVariablesService.isStillPartner === true" class="condition">
                <h4 class="qst">Êtes-vous infirme?</h4>
                <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
                    <mat-chip-option *ngFor="let chip of availableBooleans"
                        [color]="selectedIsPartnerInfirm=== chip.name ? chip.color : null"
                        (click)="onChipClickPartnerInfirm(chip.name); updateButtonState();">
                        {{chip.name}}
                    </mat-chip-option>
                </mat-chip-listbox>

                <div *ngIf="sharedVariablesService.isPartnerInfirm">
                    <h4 class="qst">Êtes-vous retraité?</h4>
                    <mat-chip-listbox class="mat-mdc-chip-set-stacked chips" aria-label="Color selection">
                        <mat-chip-option *ngFor="let chip of availableBooleans"
                            [color]="selectedIsPartnerRetired=== chip.name ? chip.color : null"
                            (click)="onChipClickPartnerRetired(chip.name); updateButtonState();">
                            {{chip.name}}
                        </mat-chip-option>
                    </mat-chip-listbox>
                </div>

            </div>

        </div>

    </div>

</div>
<section class="footer">
    <button mat-raised-button class="next" (click)="goBack()">Retour</button>
    <button mat-raised-button class="next" [disabled]="isButtonDisabled" color="primary"
        (click)="onSubmit()">Suivant</button>
</section>